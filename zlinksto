#!/usr/bin/env ruby
# List zettel with wiki links to the given slug

require 'clamp'

ZETTEL_DIR = File.expand_path("~/Dropbox/Doc/zettel/main")

Clamp do
  parameter "SLUG", "slug to find links to", :attribute_name => :slug

  def execute
    Dir.chdir(ZETTEL_DIR)
    system("grep --include=*.txt -lER '[:|[]#{slug}]]' *")
  end
end
